---
title: ES6å¸¸ç”¨çŸ¥è¯†ç‚¹
date: 2023/05/21
tags:
 - å‰ç«¯
categories:
 - å‰ç«¯ç‰©è¯­
---

`ECMAScript 6` (ç®€ç§° `ES6`) æ˜¯ `JavaScript` è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†

`ECMAScript` çš„ææ¡ˆæµç¨‹

* `Stage 0 - Strawman`ï¼ˆå±•ç¤ºé˜¶æ®µï¼‰
* `Stage 1 - Proposal`ï¼ˆå¾æ±‚æ„è§é˜¶æ®µï¼‰
* `Stage 2 - Draft`ï¼ˆè‰æ¡ˆé˜¶æ®µï¼‰
* `Stage 3 - Candidate`ï¼ˆå€™é€‰äººé˜¶æ®µï¼‰
* `Stage 4 - Finished`ï¼ˆå®šæ¡ˆé˜¶æ®µï¼‰

ä¸€ä¸ªææ¡ˆåªè¦èƒ½è¿›å…¥ `Stage 2` å°±å·®ä¸å¤šè‚¯å®šä¼šåŒ…æ‹¬åœ¨ä»¥åçš„æ­£å¼æ ‡å‡†é‡Œé¢

[ECMAScript å½“å‰çš„æ‰€æœ‰ææ¡ˆ](https://github.com/tc39/ecma262)
<CustomBlock title="ES6 å’Œ ES2015 çš„åŒºåˆ«" content="<div><code>ES2015</code> æ˜¯ä¸€ä¸ªå¹´ä»½æ ‡è®°ï¼Œè¡¨ç¤ºå½“å¹´å‘å¸ƒçš„ <code>ECMAScript</code> æ ‡å‡†çš„æ­£å¼ç‰ˆæœ¬ï¼Œå…¶å…¨ç§°ä¸ºã€Š<code>ECMAScript 2015</code> æ ‡å‡†ã€‹ï¼ˆç®€ç§° <code>ES2015</code>ï¼‰<br><code>ES6</code> æ˜¯ä¸€ä¸ªå†å²åè¯ä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ <code>5.1</code> ç‰ˆä»¥åçš„ <code>JavaScript</code> çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† <code>ES2015ã€ES2016ã€ES2017 ES2018</code> ç­‰ç­‰</div>"></CustomBlock>

## let const
`ES6` æ–°å¢äº† `let` å’Œ `const` å‘½ä»¤ï¼Œç”¨äºå£°æ˜å˜é‡ï¼Œå…¶å£°æ˜çš„å˜é‡åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ
<CustomBlock title="let const var çš„åŒºåˆ«" content="<ul><li><code>var</code> å£°æ˜çš„å˜é‡ä¼šæå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œ<code>let const</code> ä¸å­˜åœ¨å˜é‡æå‡</li><li><code>var</code> å£°æ˜çš„å…¨å±€å˜é‡ä¼šè¢«æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡ <code>window</code> ä¸Šï¼Œè€Œ <code>let const</code> ä¸ä¼š</li><li><code>var</code> å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œé‡å¤å£°æ˜ï¼Œè€Œ <code>let const</code> ä¸èƒ½é‡å¤å£°æ˜</li><li><code>var</code> å£°æ˜çš„å˜é‡ä½œç”¨åŸŸèŒƒå›´æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œ<code>let const</code> å£°æ˜çš„å˜é‡ä½œç”¨åŸŸèŒƒå›´æ˜¯å—çº§ä½œç”¨åŸŸ</li><li><code>const</code> å£°æ˜çš„æ˜¯ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜å¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜(å¿…é¡»å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–) <ul><li>åŸºæœ¬ç±»å‹ä¿è¯å€¼ä¸å¯å˜</li><li>å¼•ç”¨ç±»å‹ä¿è¯å†…å­˜æŒ‡é’ˆä¸å¯å˜</li></ul></li></ul>"></CustomBlock>

### å˜é‡æå‡
``` javascript
console.log(a) // è¾“å‡º undefined
console.log(b) // æŠ¥é”™
console.log(c) // æŠ¥é”™

var a = 'var'
let b = 'let'
const c = 'const'
```
[ä¸ºä»€ä¹ˆ let å’Œ const ä¸å­˜åœ¨å˜é‡æå‡ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/535442142/answer/2510328090)
### æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡
``` javascript
var a = 'var'
let b = 'let'
const c = 'const'

console.log(window.a) // è¾“å‡º var
console.log(window.b) // è¾“å‡º undefined
console.log(window.c) // è¾“å‡º undefined
```
### é‡å¤å£°æ˜
``` javascript
var a = 'var'
var a
console.log(a) // è¾“å‡º var

let b = 'let'
let b // æŠ¥é”™
```
### ä½œç”¨åŸŸèŒƒå›´
``` javascript
function fn() {
  if (true) {
    var a = 'var'
    let b = 'let'

    console.log(a) // è¾“å‡º var
    console.log(b) // è¾“å‡º let
  }

  console.log(a) // è¾“å‡º var
  console.log(b) // æŠ¥é”™
}

fn()
```
### const å¸¸é‡å®šä¹‰
``` javascript
const NAME = 'maomao'
NAME = 'maomao1996' // æŠ¥é”™
```

## æ¨¡æ¿å­—ç¬¦ä¸²
æ¨¡æ¿å­—ç¬¦ä¸² (template string) æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·(`)æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ã€å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²æˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€å‡½æ•°è°ƒç”¨ä»¥åŠè¡¨è¾¾å¼
``` javascript
let name = 'maomao'
let age = 18

/* ES5 æ‹¼æ¥å­—ç¬¦ä¸² */
let es5Str = 'æˆ‘å«: ' + name + 'ï¼Œæˆ‘çš„å¹´é¾„æ˜¯: ' + (age + 1) + ' å²'

/* ES6 æ¨¡æ¿å­—ç¬¦ä¸² */
let es6Str = `æˆ‘å«: ${name}ï¼Œæˆ‘çš„å¹´é¾„æ˜¯: ${age + 1} å²`
```

## è§£æ„èµ‹å€¼
### è§£æ„å¯¹è±¡
``` javascript
const obj = {
  name: 'maomao',
  age: 18
}

// ES5 å†™æ³•
const name = obj.name
const age = obj.age

/* ES6 è§£æ„å†™æ³• */
const { name, age } = obj
// é‡å‘½å
const { name: myName } = obj

/* æŒ‡å®šé»˜è®¤å€¼ */
const { x = 1, y = 2 } = { y: null }
console.log(x) // 1
console.log(y) // null
```
### ç»“æ„æ•°ç»„
``` javascript
const arr = ['maomao', 18]

/* ES5 å†™æ³• */
const name = arr[0]
const age = arr[1]

/* ES6 è§£æ„å†™æ³• */
const [name, age] = arr
const { 0: name, 1: age } = arr

/* æŒ‡å®šé»˜è®¤å€¼ */
const [x = 1] = []
const [y = 2] = [undefined]
console.log(x) // 1
console.log(y) // 2

const [z = 3] = [null]
console.log(z) // null
```
### è§£æ„å­—ç¬¦ä¸²
å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ï¼Œå› ä¸ºå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
``` javascript
const [a, b, c] = 'maomao'
console.log(a) // m
console.log(b) // a
console.log(c) // o

/* è§£æ„ length å±æ€§ */
const { length } = 'maomao'
console.log(length) // 6
```
<CustomBlock title="è§£æ„èµ‹å€¼æ³¨æ„ç‚¹" content="<ul><li>è§£æ„æ•°ç»„å’Œå­—ç¬¦ä¸²æ—¶å˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®š</li><li>è§£æ„å¯¹è±¡æ—¶å˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼</li><li>å˜é‡åœ¨æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œå¤šä½™çš„å˜é‡ä¼šè¢«èµ‹å€¼ä¸º <code>undefined</code></li><li>åœ¨æŒ‡å®šé»˜è®¤å€¼æ—¶ï¼Œåªæœ‰å±æ€§å€¼ä¸¥æ ¼ç­‰äº <code>undefined</code> æ‰ä¼šç”Ÿæ•ˆ</li><li>æ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„</li><li>è§£æ„æ•°å€¼å’Œå¸ƒå°”å€¼æ—¶ä¼šé€šè¿‡å…¶å¯¹åº”çš„åŒ…è£…å‡½æ•°å°†å…¶è½¬æ¢æˆå¯¹è±¡å†è§£æ„</li><li><code>undefined</code> å’Œ <code>null</code> æ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œåœ¨è§£æ„æ—¶ä¼šæŠ¥é”™</li></ul>"></CustomBlock>

## å‡½æ•°çš„æ‰©å±•
### å‚æ•°é»˜è®¤å€¼
``` javascript
/* ES5 */
function add(x, y) {
  // å½“å‚æ•° y å¯¹åº”çš„å¸ƒå°”å€¼ä¸º false åˆ™è¯¥èµ‹å€¼ä¸èµ·ä½œç”¨
  y = y || 1
  console.log(x + y)
}
add(10) // 11
add(10, 2) // 12
add(10, 0) // 11

/* ES6 */
function add(x, y = 1) {
  console.log(x + y)
}
add(10) // 11
add(10, 2) // 12
add(10, 0) // 10
```
<CustomBlock title="å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼" content="<ul><li>å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ä¸èƒ½ç”¨ <code>let</code>æˆ– <code>const</code> å†æ¬¡å£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶å‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•°</li><li>å‚æ•°é»˜è®¤å€¼çš„ä½ç½®åº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°</li></ul>"></CustomBlock>

### å‰©ä½™å‚æ•°(rest å‚æ•°)
`ES6` å¼•å…¥ `rest` å‚æ•°(å½¢å¼ä¸º `...å˜é‡å`) ç”¨äºè·å–å‡½æ•°çš„å‰©ä½™å‚æ•°(å¯ä»¥æ›¿æ¢ `arguments` å¯¹è±¡)
``` javascript
function log(name, ...params) {
  console.log(name, params)
}

log('maomao', 1, 2) // maomaoÂ [1, 2]
log('maomao', 1, 2, 3) // maomaoÂ [1, 2, 3]
```
<CustomBlock title="å‰©ä½™å‚æ•°(rest å‚æ•°)" content="<ul><li><code>rest</code> å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨</li><li><code>rest</code> å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>å‡½æ•°çš„ <code>length</code> å±æ€§ï¼Œä¸åŒ…æ‹¬ <code>rest</code> å‚æ•°</li></ul>"></CustomBlock>

### ç®­å¤´å‡½æ•°
`ES6` å…è®¸ä½¿ç”¨ç®­å¤´(`=>`)å®šä¹‰å‡½æ•°
``` javascript
// ä¸éœ€è¦å‚æ•°æ—¶ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†
const fn = () => {}
// ç­‰åŒäº
const fn = function () {}

// å½“å‡½æ•°ä½“åªæœ‰ return æ—¶
const fn = (value) => value
// ç­‰åŒäº
const fn = function (value) {
  return value
}
```
<CustomBlock title="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«" content="<ul><li><code>this</code><ul><li>æ™®é€šå‡½æ•° <ul><li><code>this</code> æŒ‡å‘æ˜¯åŠ¨æ€çš„(å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼)</li><li>å¯ä»¥ç”¨ <code>call apply bind</code> æ”¹å˜ <code>this</code> æŒ‡å‘</li></ul></li><li>ç®­å¤´å‡½æ•° <ul><li><code>this</code> æŒ‡å‘æ˜¯å›ºå®šçš„ï¼ŒæŒ‡å‘å®šä¹‰æ—¶ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„ <code>this</code>(å®ƒæ²¡æœ‰è‡ªå·±çš„ <code>this</code>)</li><li><code>call apply bind</code> æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°çš„ <code>this</code> æŒ‡å‘(ä¸Šä¸‹æ–‡å€¼å§‹ç»ˆæŒ‰è¯æ³•è§£æ)</li><li>å…¨å±€ä½œç”¨åŸŸä¸‹ <code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡</li></ul></li></ul></li><li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°(ä¸èƒ½ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</li><li>ç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“å†…ä¸å¯ä»¥ä½¿ç”¨<code>arguments super new.target</code></li><li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤(ä¸èƒ½ç”¨ä½œ <code>Generator</code> å‡½æ•°)</li><li>åœ¨ <code>class</code> ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°å…¶ <code>this</code> ä¼šå’Œç±»å®ä¾‹è¿›è¡Œç»‘å®š</li></ul>"></CustomBlock>
<CustomBlock title="æ³¨æ„ç‚¹(ä»¥ä¸‹åœºåˆä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°)" content="<ul><li>å®šä¹‰å¯¹è±¡æ–¹æ³•ä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬ <code>this</code> æ—¶</li><li>å®šä¹‰åŸå‹æ–¹æ³•ä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬ <code>this</code> æ—¶</li><li>éœ€è¦åŠ¨æ€ <code>this</code> æ—¶</li></ul>"></CustomBlock>

[åˆ©ç”¨ `babel` ç¼–è¯‘ç®­å¤´å‡½æ•°ä»£ç æŸ¥çœ‹ `this` çš„æŒ‡å‘](https://www.babeljs.cn/repl#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&build=&builtIns=false&corejs=3.6&spec=false&loose=false&code_lz=MYewdgzgLgBANiA5jAvDAFASlQPhgbwCgYZRIQ4BTAOgUXQHI6YoALASwgC4GAaFjhEyEAvoUIAzAK5hgUduBgSwWAsRgRKUACrsAtpRBSo6VSjxESJMhAo06jZQM49-bTsJIj-ARgAMfsIiQA&debug=false&forceAllTransforms=true&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=script&lineWrap=true&presets=env%2Creact&prettier=false&targets=&version=7.17.11&externalPlugins=&assumptions=%7B%7D)
``` javascript
/* ES6 */
const log = () => {
  console.log('log this:', this)
}

function fn() {
  setTimeout(() => {
    console.log('fn this:', this)
  }, 100)
}

/* babel ç¼–è¯‘åçš„ ES5 ä»£ç  */
var _this = this

var log = function log() {
  console.log('log this:', _this)
}

function fn() {
  var _this2 = this

  setTimeout(function () {
    console.log('fn this:', _this2)
  }, 100)
}
```
## æ‰©å±•è¿ç®—ç¬¦
æ‰©å±•è¿ç®—ç¬¦ (`spread`)æ˜¯ä¸‰ä¸ªç‚¹ (`...`) å®ƒå¥½æ¯” `rest` å‚æ•°çš„é€†è¿ç®—
### å‡½æ•°è°ƒç”¨
æ‰©å±•è¿ç®—ç¬¦åœ¨å‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„å˜ä¸ºå‚æ•°åºåˆ—ï¼Œä»è€Œå¯ä»¥æ›¿ä»£å‡½æ•°çš„ `apply()` æ–¹æ³•
``` javascript
// ä¸¾ä¸ª ğŸŒ° æ±‚å‡ºä¸€ä¸ªæ•°ç»„æœ€å¤§å…ƒç´ 
/* ES5 å†™æ³• */
Math.max.apply(null, [2022, 520, 1314])

/* ES6 å†™æ³• */
Math.max(...[2022, 520, 1314])
// ç­‰åŒäº
Math.max(2022, 520, 1314)
```
### æ‹·è´æ•°ç»„/å¯¹è±¡
``` javascript
/* æ‹·è´æ•°ç»„ */
const arr1 = [1, 2, 3]
// å†™æ³•ä¸€
const arr2 = [...arr1]
// å†™æ³•äºŒ
const [...arr2] = arr1

/* æ‹·è´å¯¹è±¡ */
const obj1 = { name: 'maomao' }
// å†™æ³•ä¸€
const obj2 = { ...obj1 }
// å†™æ³•äºŒ
const { ...obj2 } = obj1
```
### åˆå¹¶æ•°ç»„/å¯¹è±¡
``` javascript
/* åˆå¹¶æ•°ç»„ */
const arr1 = [1, 2, 3]
const arr2 = ['a', 'b', 'c']
const arr = [...arr1, ...arr2]

/* åˆå¹¶å¯¹è±¡ */
const obj1 = { name: 'maomao' }
const obj2 = { age: 18 }
const obj = { ...obj1, ...obj2 }
```
### ä½¿ç”¨è¡¨è¾¾å¼
``` javascript
const obj = {
  ...(false ? { a: 1 } : {}),
  b: 2
}
// {b: 2}

const obj = {
  ...(true ? { a: 1 } : {}),
  b: 2
}
// {a: 1, b: 2}
```
### ä¸è§£æ„èµ‹å€¼ç»“åˆ
``` javascript
const arr1 = [1, 2, 3]

/* ES5 å†™æ³• */
const first = arr1[0]
const rest = arr1.slice(1)

/* ES6 å†™æ³• */
const [first, ...rest] = arr1
```
<CustomBlock title="æ‰©å±•è¿ç®—ç¬¦" content="<ul><li>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ‹·è´æ•°ç»„æˆ–å¯¹è±¡æ—¶å…¶éƒ½æ˜¯<strong>æµ…æ‹·è´</strong></li><li>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ç­‰åŒäºä½¿ç”¨ <code>Object.assign()</code> æ–¹æ³•</li><li>åªæœ‰å‡½æ•°è°ƒç”¨æ—¶æ‰©å±•è¿ç®—ç¬¦æ‰å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>æ‰©å±•è¿ç®—ç¬¦ç”¨äºèµ‹å€¼æ—¶åªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li></ul>"></CustomBlock>

## æ•°ç»„çš„æ‰©å±•
### Array.from()
`Array.from()` ç”¨äºå°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„

* ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ (`array-like object`)
  * DOM æ“ä½œè¿”å›çš„ `NodeList`
  * `arguments` å¯¹è±¡
* å¯éå† (`iterable`) çš„å¯¹è±¡ (åŒ…æ‹¬ `ES6` æ–°å¢çš„æ•°æ®ç»“æ„ `Set` å’Œ `Map`)
``` javascript
/* array-like object è½¬æ•°ç»„ */
const arrayLike = {
  0: 'a',
  1: 'b',
  2: 'c',
  length: 3
}

// ES5 å†™æ³•
var arr1 = [].slice.call(arrayLike) // ['a', 'b', 'c']

// ES6 å†™æ³•
let arr2 = Array.from(arrayLike) // ['a', 'b', 'c']
```
<CustomBlock title="Array.from()" content="<div><code>Array.from()</code> å¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºæ•°ç»„çš„<code>map()</code> ç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„</div><div>åœ¨å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„æ—¶ <code>Array.from()</code> èƒ½æ­£ç¡®å¤„ç†å„ç§ <code>Unicode</code> å­—ç¬¦ï¼Œå¯ä»¥é¿å… <code>JavaScript</code> å°†å¤§äº <code>\uFFFF</code> çš„ <code>Unicode</code> å­—ç¬¦ç®—ä½œä¸¤ä¸ªå­—ç¬¦çš„ <code>bug</code></div>"></CustomBlock>

### Array.of()
`Array.of()` ç”¨äºå°†ä¸€ç»„å€¼è½¬æ¢ä¸ºæ•°ç»„
``` javascript
Array.of(3, 11, 8) // [3,11,8]
Array.of(3) // [3]
Array.of(3).length // 1
```
<CustomBlock title="Array.of()" content="<div><code>Array.of()</code> æ–¹æ³•çš„ä¸»è¦ç›®çš„æ˜¯å¼¥è¡¥æ•°ç»„æ„é€ å‡½æ•° <code>Array()</code> çš„ä¸è¶³(å› ä¸ºå‚æ•°ä¸ªæ•°çš„ä¸åŒä¼šå¯¼è‡´<code>Array()</code>çš„è¡Œä¸ºæœ‰å·®å¼‚)</div><div><code>Array.of()</code> æ€»æ˜¯è¿”å›å‚æ•°å€¼ç»„æˆçš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰å‚æ•°å°±è¿”å›ä¸€ä¸ªç©ºæ•°ç»„</div>"></CustomBlock>

### å®ä¾‹æ–¹æ³•: includes()
`includes()` æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼(`ES2016` å¼•å…¥)
``` javascript
const arr = [1, 2, NaN]
arr.includes(2) // true
arr.includes(4) // false
arr.includes(NaN) // true
```
<CustomBlock title="includes() å’Œ indexOf() çš„å¯¹æ¯”" content="<div><code>indexOf()</code> ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå…¶å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œæ‰€ä»¥è¦å»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äº <code>-1</code>ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚<br><code>indexOf()</code> å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ (<code>===</code>) è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹ <code>NaN</code> çš„è¯¯åˆ¤</div>"></CustomBlock>

### å®ä¾‹æ–¹æ³•: find() å’Œ findIndex()
`find()` æ–¹æ³•ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜åˆ™è¿”å› `undefined`
`findIndex()` æ–¹æ³•ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜åˆ™è¿”å› `-1`
``` javascript
const arr = [1, 5, 10, 15]

/* find() */
arr.find((item) => item > 9) // 10
arr.find((item) => item === 9) // undefined

/* findIndex() */
arr.findIndex((item) => item > 9) // 2
arr.findIndex((item) => item === 9) // -1
```

### å®ä¾‹æ–¹æ³•: at()
`at()` æ–¹æ³•æ¥å—ä¸€ä¸ªæ•´æ•°(æ”¯æŒè´Ÿæ•°)ä½œä¸ºå‚æ•°è¿”å›å¯¹åº”ä½ç½®çš„æˆå‘˜ï¼Œå¦‚æœå‚æ•°ä½ç½®è¶…å‡ºäº†æ•°ç»„èŒƒå›´åˆ™è¿”å› `undefined`
``` javascript
const arr = ['maomao', 18]

arr.at(0) // 'maomao'
arr.at(-1) // 18
arr.at(99) // undefined
```

### å®ä¾‹æ–¹æ³•: flat() å’Œ flatMap()
`flat()` æ–¹æ³•ç”¨äºå°†åµŒå¥—çš„æ•°ç»„æ‹å¹³å˜æˆä¸€ç»´çš„æ•°ç»„ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ä¸æ”¹å˜åŸæ•°ç»„
`flatMap()` æ–¹æ³•ä¼šå…ˆå¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°(ç›¸å½“äºæ‰§è¡Œ `Array.prototype.map()`) ç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œ `flat()` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ä¸æ”¹å˜åŸæ•°ç»„
``` javascript
/* flat() */
const arr1 = [1, 2, [3, [4, 5]]]
const arr2 = [1, 2, , 4, 5]

arr1.flat() // [1, 2, 3, [4, 5]]
arr1.flat(2) // [1, 2, 3, 4, 5]

arr2.flat() // [1, 2, 4, 5]

/* flatMap() */
const arr = [1, 2, 3, 4]
arr.flatMap((x) => [[x * 2]]) // [[2], [4], [6], [8]]
// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()
```
<CustomBlock title="flat() å’Œ flatMap() æ³¨æ„ç‚¹" content="<ul><li><code>flat()</code> æ–¹æ³•é»˜è®¤åªä¼šæ‹‰å¹³ä¸€å±‚</li><li><code>flat()</code>æ–¹æ³•ä¼šè·³è¿‡åŸæ•°ç»„ä¸­çš„ç©ºä½</li><li><code>flatMap()</code> åªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„</li></ul>"></CustomBlock>

## å¯¹è±¡çš„æ‰©å±•
### å±æ€§ç®€å†™
`ES6` å…è®¸åœ¨å¤§æ‹¬å·é‡Œé¢ç›´æ¥å†™å…¥å˜é‡å’Œå‡½æ•°ä½œä¸ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
``` javascript
/* å±æ€§ç®€å†™ */
// ES5 å†™æ³•
const key = 'maomao'
const obj = { key: key }

// ES6 å†™æ³•
const key = 'maomao'
const obj = { key }

/* æ–¹æ³•ç®€å†™ */
// ES5 å†™æ³•
const obj = {
  log: function () {
    console.log('maomao')
  }
}

// ES6 å†™æ³•
const key = 'maomao'
const obj = {
  log() {}
}
```
<CustomBlock title="å±æ€§ç®€å†™" content="ç®€å†™çš„å¯¹è±¡æ–¹æ³•ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°å¦åˆ™ä¼šæŠ¥é”™"></CustomBlock>

### å±æ€§åè¡¨è¾¾å¼
``` javascript
// å®šä¹‰å±æ€§å
const key = 'age'
const obj = {
  ['name' + 1]: 'maomao',
  [key]: 18
}

// å®šä¹‰æ–¹æ³•å
const obj = {
  ['log' + 'name']() {
    console.log('maomao')
  }
}
```
<CustomBlock title="å±æ€§åè¡¨è¾¾å¼" content="<div>å±æ€§åè¡¨è¾¾å¼ä¸å±æ€§ç®€å†™ä¸èƒ½åŒæ—¶ä½¿ç”¨å¦åˆ™ä¼šæŠ¥é”™</div><div>å±æ€§åè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ä¼šè‡ªåŠ¨å°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²<code>[object Object]</code></div>"></CustomBlock>

### Object.is()
`Object.is()` æ–¹æ³•ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ (`===`) çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´
``` javascript
Object.is('key', 'key') // true
Object.is({}, {}) // false
```
<CustomBlock title="Object.is() ä¸ === çš„ä¸åŒä¹‹å¤„" content="<codde>+0</code>ä¸ç­‰äº<code>-0</code>"></CustomBlock>

### Object.assign()
`Object.assign()` æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡åé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ï¼‰
``` javascript
const target = { a: 1, b: 1 }

const source1 = { b: 2, c: 2 }
const source2 = { c: 3 }

Object.assign(target, source1, source2)
```
#### åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°
``` javascript
const obj = { a: 1 }
Object.assign(obj) === obj // true
```
#### ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›
``` javascript
typeof Object.assign(1) // "object"
typeof Object.assign(true) // "object"
```
#### ä¼ å…¥éå¯¹è±¡ç±»å‹çš„åœºæ™¯
``` javascript
/* undefined å’Œ null */
// é¦–ä½å‚æ•°æ—¶ä¼šæŠ¥é”™
Object.assign(undefined) // TypeError
Object.assign(null) // TypeError
// éé¦–ä½å‚æ•°æ—¶ä¼šå¿½ç•¥
const obj = {}
Object.assign(obj, undefined) === obj // true
Object.assign(obj, null) === obj // true

/* éé¦–ä½å‚æ•°ä¸ºæ•°å€¼ å¸ƒå°”å€¼ å­—ç¬¦ä¸²æ—¶ */
// æ•°å€¼å’Œå¸ƒå°”å€¼ä¼šå¿½ç•¥
const obj = {}
Object.assign(obj, 1, true) === obj // true
// å­—ç¬¦ä¸²ä¼šä»¥å­—ç¬¦æ•°ç»„çš„å½¢å¼åšåˆå¹¶
Object.assign({}, 'maomao') // {0: 'm', 1: 'a', 2: 'o', 3: 'm', 4: 'a', 5: 'o'}

/* æ•°ç»„ */
// å½“å‚æ•°éƒ½ä¸ºæ•°ç»„æ—¶
Object.assign([1, 2, 3], [4, 5]) // [4, 5, 3]
// å½“é¦–ä½å‚æ•°ä¸ºå¯¹è±¡æ—¶ï¼Œåç»­å‚æ•°ä¸ºæ•°ç»„æ—¶
Object.assign({ a: 1 }, [1, 2]) // {0: 1, 1: 2, a: 1}
```
#### ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†
``` javascript
Object.assign([1, 2, 3], [4, 5]) // [4, 5, 3]
```
<CustomBlock title="Object.assign() æ€»ç»“å’Œåº”ç”¨åœºæ™¯" content="<div>æ€»ç»“</div><ul><li><code>Object.assign()</code> æ˜¯<strong>æµ…æ‹·è´</strong>æ–¹æ³•</li><li>å­˜åœ¨åŒåå±æ€§æ—¶ï¼Œåé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§</li><li>åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°</li><li>ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›</li><li>ä¼ å…¥ <code>undefined</code> å’Œ <code>null</code> æ—¶ <ul><li>å¦‚æœä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼šæŠ¥é”™ï¼ˆæ— æ³•è½¬æˆå¯¹è±¡ï¼‰</li><li>å¦‚æœä¸ä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ—¶ä¼šè¢«å¿½ç•¥</li></ul></li><li>ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†</li></ul>"></CustomBlock>

### Object.keys() Object.value() Object.entries()
`Object.keys()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å(`ES5` å¼•å…¥)
`Object.value()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼(`ES2017` å¼•å…¥)
`Object.entries()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆäºŒç»´æ•°ç»„ï¼‰ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼å¯¹æ•°ç»„(`ES2017` å¼•å…¥)
``` javascript
const obj = { name: 'maomao', age: 18 }
Object.keys(obj) // ['name', 'age']
Object.values(obj) // Â ['maomao', 18]
Object.entries(obj) // [['name', 'maomao'], ['age', 18]]
```

### Object.fromEntries()
`Object.fromEntries()` æ–¹æ³•æ˜¯ `Object.entries()` çš„é€†æ“ä½œï¼Œç”¨äºå°†é”®å€¼å¯¹çš„æ•°æ®ç»“æ„è¿˜åŸä¸ºå¯¹è±¡
``` javascript
Object.fromEntries([['name', 'maomao']]) // {name: 'maomao'}

/* Map è½¬å¯¹è±¡ */
const map = new Map([['name', 'maomao']])
Object.fromEntries(map) // {name: 'maomao'}

/* å°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡ */
const params = 'name=maomao&age=18'
Object.fromEntries(new URLSearchParams(params)) // {name: 'maomao', age: '18'}
```

### å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”
![](../img/es6-1.png)
<CustomBlock title="éå†é¡ºåº" content="<div><code>ES5</code> æ²¡æœ‰è§„å®šéå†é¡ºåºï¼Œå…¶éå†é¡ºåºç”±æµè§ˆå™¨å‚å•†å®šä¹‰(å¯ä»¥ç®€å•ç†è§£ä¸ºæ— åºçš„)</div><div><code>ES6</code> ä¹‹åè§„å®šéå†é¡ºåºå°†æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œ</div><ol><li>é¦–å…ˆéå†æ‰€æœ‰æ•°å€¼é”®ï¼ŒæŒ‰ç…§æ•°å€¼å‡åºæ’åˆ—ã€‚</li><li>å…¶æ¬¡éå†æ‰€æœ‰å­—ç¬¦ä¸²é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚</li><li>æœ€åéå†æ‰€æœ‰ <code>Symbol</code> é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚</li></ol><div><code>ES6</code> å†…éƒ¨å®šä¹‰äº† [[OwnPropertyKeys]]() æ–¹æ³•å¯¹å±æ€§è¿›è¡Œåˆ†ç±»å’Œæ’åº</div>"></CustomBlock>